<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸŽ¶ Love Songs TV</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      background: linear-gradient(to right, #ff9a9e, #fad0c4);
      padding: 30px;
    }
    h1 {
      color: #e74c3c;
    }
    #player {
      margin-top: 20px;
    }
    #now-playing {
      margin-top: 15px;
      font-size: 1.2em;
      color: #2c3e50;
    }
  </style>
</head>
<body>
  <h1>ðŸ’– Bollywood & Punjabi Love Songs TV</h1>
  <div id="now-playing">Loading...</div>
  <div id="player"></div>

  <script>
    // Load the YouTube IFrame API
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);

    let player;

    // Global broadcast start time (UTC)
    const broadcastStart = new Date("2025-04-01T08:00:00Z").getTime();

    // Verified working songs
    const playlist = [
      { id: "vC-bRnJ2xm8", title: "Mast Magan â€“ 2 States", artist: "Arijit Singh, Chinmayi", duration: 250 },
      { id: "YqeW9_5kURI", title: "High Rated Gabru", artist: "Guru Randhawa", duration: 180 },
      { id: "CHekNnySAfM", title: "Tera Ban Jaunga â€“ Kabir Singh", artist: "Akhil, Tulsi Kumar", duration: 220 },
      { id: "RgKAFK5djSk", title: "See You Again â€“ Wiz Khalifa", artist: "ft. Charlie Puth", duration: 230 },
      { id: "8ybW48rKBME", title: "Tum Hi Ho â€“ Aashiqui 2", artist: "Arijit Singh", duration: 270 }
    ];

    function getCurrentVideo() {
      const now = Date.now();
      let elapsed = Math.floor((now - broadcastStart) / 1000);
      let index = 0;

      while (elapsed >= playlist[index].duration) {
        elapsed -= playlist[index].duration;
        index = (index + 1) % playlist.length;
      }

      return { index, startTime: elapsed };
    }

    function onYouTubeIframeAPIReady() {
      const { index, startTime } = getCurrentVideo();
      const video = playlist[index];

      document.getElementById("now-playing").innerHTML = `
        Now Playing: <strong>${video.title}</strong><br>
        Artist: <strong>${video.artist}</strong>
      `;

      player = new YT.Player('player', {
        height: '390',
        width: '640',
        videoId: video.id,
        playerVars: {
          autoplay: 1,
          controls: 1,
          start: startTime
        },
        events: {
          onReady: (event) => event.target.playVideo()
        }
      });
    }
  </script>
</body>
</html>
